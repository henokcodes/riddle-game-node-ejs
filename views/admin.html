<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- bootstrap file -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <!-- fontawesome cdn -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
        integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
   
    <link rel="stylesheet" href="/style/style.css">
    <title>Riddle Game</title>
   <script>
    `use strict`;
function refreshTime() {
  const timeDisplay = $("#time");
  const dateString = new Date().toLocaleString();
  const formattedString = dateString.replace(", ", " - ");
  timeDisplay.text(formattedString);
  timeDisplay.css("color","white");
 
}
  setInterval(refreshTime, 1000);
   </script>
  
</head>

<body>
    
      <div class="timedate">
        <span><strong id="time"></strong></span>
        <a href="/logout"><img src="/images/logout.png" width="50px" alt=""></a>
      </div>

      
      <div class="questions-box">
        <div class=" col-md-6 mb-4">
          <div class="card">
            <div class="card-header">
              <h2>Add Question</h2>
            </div>
            <div class="card-body">
              <form >
                <div class="mb-3">
                  <label for="text" class="form-label">Question Text</label>
                  <input
                    type="text"
                    class="form-control"
                    id="qtext"
                    name="text"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="choices" class="form-label"
                    >Answer Choices (comma separated)</label
                  >
                  <input
                    type="text"
                    class="form-control"
                    id="qchoices"
                    name="choices"
                    required
                  />
                </div>
                <div class="mb-3">
                  <label for="answer" class="form-label">Correct Answer</label>
                  <select
                    class="form-select"
                    id="answer"
                    name="qanswer"
                    required
                  >
                    <option value="" disabled selected>
                      Select the Correct Answer
                    </option>
                    <option value="a">A</option>
                    <option value="b">B</option>
                    <option value="c">C</option>
                    <option value="d">D</option>
                  </select>
                </div>
                <div class="mb-3">
                  <label for="difficulty" class="form-label">Difficulty</label>
                  <select
                    class="form-select"
                    id="difficulty"
                    name="qdifficulty"
                    required
                  >
                    <option value="" disabled selected>
                      Select Difficulty
                    </option>
                    <option value="easy">Easy</option>
                    <option value="medium">Medium</option>
                    <option value="hard">Hard</option>
                  </select>
                </div>
                <button onclick="addQuestion()" class="btn btn-primary">
                  Add Question
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    <div class="questions-list">
      <div class="col-md-6 mb-4">
      <div class="card ">
        <div class="card-header">
          <h2>Available Questions <span>( <%= questions.length  %> )</span></h2>
        </div>
        <div class="card-body">
          <ul class="list-group">
            <% questions.forEach(function(question) { %>
            <li
              class="list-group-item d-flex justify-content-between align-items-center"
            >
              <%= question.text %>
              <span class="badge bg-secondary"
                ><%= question.difficulty %></span
              >   <form action="/questions/<%= question._id %>?_method=DELETE" method="POST">
                <button type="submit" class="btn btn-danger">Delete</button>
              </form>
            </li>
            <% }); %>
          </ul>
        </div>
      </div>
      </div>
    </div>
  
  

</body>

</html>